---
id: gitlab-workflows
title: Our workflows in GitLab
sidebar_label: Gitlab-Workflows
---

tl;dr

- Each commit to the branch `main` must contain a reference to an issue (`..., fixes #23` or `..., re #23`).
- Every change should reach the `main` branch via a merge request (exceptions are trivial changes such as spelling mistakes).
- Each merge request should be viewed and approved by at least one other person.

## BIESTs

The following rules apply to bug reports and bug fixes in Stud.IP (a.k.a. [BIESTs](rules#biests)):

- An issue must be created in the [Stud.IP project](https://gitlab.studip.de/studip/studip).
- This issue must have the label "BIEST" and one of the labels "Version::xy", which specifies the lowest version in which the error occurs. If this is not known, the label can be omitted. However, the version in which the problem was observed should then be entered.
- Optionally, one of the labels "Component::xy" can (and should) be entered in order to be able to filter the issues by component.
- For bug fixes, a merge request should be created that references the ticket. Exceptions are trivial changes such as spelling mistakes, which can be pushed directly to the `main` branch.
- The merge requests should be created by a branch in the main project and follow one of the following two notations:
  <ul><li><code>biest-&lt;nummer&gt;</code></li><li><code>&lt;nummer&gt;-description</code></li></ul>
  The first variant is preferred, as it clearly indicates what the corresponding branch refers to. The second variant is the one generated by gitlab when a merge request is created for an issue via the GUI.
- Once the problem has been fixed, the ticket must be closed so that the maintainers of the project can recognize that the bugfix still needs to be transported to other versions.
- The milestone on the issue is only set once the bugfix has been distributed to all necessary versions.

An [overview of all open issues](https://gitlab.studip.de/studip/studip/-/issues?scope=all&state=opened&label_name%5B%5D=BIEST) can be obtained by filtering for open issues with the label "BIEST" in the overview of issues.

## StEPs

The following rules apply to Stud.IP enhancement proposals ([StEPs](Regeln#steps)):

- An issue must be created in the [Stud.IP project](https://gitlab.studip.de/studip/studip).
- This issue must have the label "StEP" and the version of Stud.IP for which the StEP is being developed must be specified as the milestone.
- Optionally, one of the labels "Component::xy" can be specified if the StEP refers to a component.
- The StEP is developed in a branch, which should ideally be attached to the main project (but does not have to be) and must follow one of the two following notations:
  <ul><li><code>step-&lt;nummer&gt;</code></li><li><code>&lt;nummer&gt;-description</code></li></ul>
  The first variant is preferred, as it clearly indicates what the corresponding branch refers to. The second variant is the one generated by gitlab when a merge request is created for an issue via the GUI.
- Ideally, a merge request should be created at an early stage. As long as the StEP is under development, the merge request should have the "Draft" status so that you can quickly see which StEPs are still under development and which have already been completed.
- Once development is complete, the relevant labels for quality management should be set on the issue so that the quality officers can start the review. The code review takes place on the merge request and the corresponding label on the issue can only be changed once the merge request has been approved.
- A test system should be made available for each StEP at an early stage so that the quality officers can test there.
- Once a StEP has passed all relevant quality tests, the merge request can be transferred to the main system (i.e. the 'main' branch).
- The issue can be closed as soon as the merge request has been transferred.
- If errors are discovered in the newly implemented functions of the StEP and the issue is already closed, these must be entered as BIEST. The issue for the StEP must then be entered as a "linked issue". This is done via the GUI by calling up the corresponding function in an issue below the description text. As long as the issue of the StEP is still open, errors can also be reported there as a comment.

## TICs

The following rules apply to _Tiny Improvement Commits_ ([TICs](rules#tics)):

- An issue must be created in the [Stud.IP project](https://gitlab.studip.de/studip/studip).
- This issue must have the label "TIC" and the version of Stud.IP for which the TIC is being developed must be specified as the milestone.
- Optionally, one of the labels "Component::xy" can be specified if the TIC refers to a component.
- The TIC is developed in a branch, which should be attached to the main project and follow one of the two following notations:
  <ul><li><code>tic-&lt;nummer&gt;</code></li><li><code>&lt;nummer&gt;-description</code></li></ul>
  The first variant is preferred, as it clearly indicates what the corresponding branch refers to. The second variant is the one generated by gitlab when a merge request is created for an issue via the GUI.
- Ideally, a merge request should be created at an early stage. As long as the TIC is under development, the merge request should have the "Draft" status so that you can quickly see which TICs are still under development and which have already been completed.
- Once development is complete, the relevant labels for quality management should be set on the issue so that the quality officers can start the review. The code review takes place on the merge request and the corresponding label on the issue can only be changed once the merge request has been approved.
- Once the merge request for the TIC has been accepted, it can be transferred to the main system (i.e. the 'main' branch) from this point onwards.
- The issue can be closed as soon as the merge request has been transferred.
- If errors are discovered in the newly implemented functions of the TIC and the issue is already closed, these must be entered as BIEST. The issue for the TIC must then be entered as a "linked issue". This is done via the GUI by calling up the corresponding function in an issue below the description text. As long as the issue of the TIC is still open, errors can also be reported there as comments.

## Lifters

The following rules apply to _ongoing, incrementally progressing technical renovations for Stud.IP_ ([Lifters](rules#lifters)):

- An issue must be created in the [Stud.IP project](https://gitlab.studip.de/studip/studip).
- This issue must have the label "LifTer". The milestone remains empty, as a lifter can rarely be completed within a single version of Stud.IP.
- Optionally, one of the labels "Component::xy" can be specified if the lifter refers to a component.
- The lifter is now developed in individual issues that follow the rules of TICs. The respective issues must be linked to the issue of the lifter via the linked issues so that you have an overview of the changes made for the lifter in an issue.

## Pipelines / CI/CD

For each commit in each branch of the main project, a pipeline is triggered that executes the following actions:

- Linting/Syntax Check
- Execution of the unit tests

The results of the pipeline execution can be queried in GitLab under [CI/CD](https://gitlab.studip.de/studip/studip/-/pipelines). If there is a merge request for a branch, the result is also visible there. If a pipeline for the branch of a merge request fails, this branch must not be transferred to the `main` branch.

The pipelines are currently still under construction and are constantly being expanded.

Release management also takes place via a pipeline that is triggered when a corresponding release tag is created.

## Merge changes into other versions

An overview of the bugfixes still to be transported can be found either via the overview of issues in gitlab or via the [Dashboard plugin in the DevBoard](https://develop.studip.de/studip/plugins.php/tractogitlabplugin/merge). The changes are transferred to the corresponding version branches using [Cherry Picking](https://www.atlassian.com/git/tutorials/cherry-pick) of the commits.

Currently, the changes still have to be transferred to Stud.IP versions that are still in SVN. Here it makes sense to check out these versions using `git svn` and thus be able to cherrypick the changes there too.

The bugfixes can be transferred by anyone who has write access to the corresponding branches. If you do not want to do this, all accumulated changes are transferred to the corresponding versions at irregular intervals or on demand.
